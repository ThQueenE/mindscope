<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MindScope</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            beige: '#f5f0e8',
            'theme-mirror': '#fdf2e2',
            'theme-emotional': '#eaf2f8',
            'theme-self-perception': '#f0eaf8',
            'theme-motivation': '#eaf8f0',
            'dark-bg': '#0f172a',
            'dark-card': '#1e293b',
            'dark-text': '#e2e8f0',
            'dark-accent': '#14b8a6',
            'dark-border': '#334155'
          }
        }
      }
    }
  </script>

  <!-- Prevent FOUC -->
  <script>
    if (
      localStorage.theme === 'dark' ||
      (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
    ) {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }
  </script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Tajawal:wght@400;700&display=swap"
    rel="stylesheet"
  >

  <!-- App CSS -->
  <link rel="stylesheet" href="index.css">

  <!-- PWA Manifest -->
  <link rel="manifest" href="./assets/manifest.json" />
  <meta name="theme-color" content="#23d1b0" />

  <!-- Import Maps -->
  <script type="importmap">
  {
    "imports": {
      "react": "https://aistudiocdn.com/react@^19.2.0",
      "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
      "react/": "https://aistudiocdn.com/react@^19.2.0/"
    }
  }
  </script>

  <!-- Main JS -->
  <script type="module" crossorigin src="./assets/index-DreAXgOE.js"></script>
</head>

<body class="bg-beige dark:bg-dark-bg">
  <div id="root"></div>

  <!-- ✅ Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker
          .register('./sw.js')
          .then(reg => console.log('✅ Service Worker registered:', reg.scope))
          .catch(err => console.error('❌ Service Worker registration failed:', err));
      });
    }
  </script>
</body>
</html>